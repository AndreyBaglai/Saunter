(this.webpackJsonpsaunter=this.webpackJsonpsaunter||[]).push([[0],{122:function(e,t,a){e.exports={text:"Logo_text__3aOy9",icon:"Logo_icon__2eEqR"}},143:function(e,t,a){e.exports={customBtn:"CustomButton_customBtn__3OzjV"}},144:function(e,t,a){e.exports={header:"Header_header__3g-qh"}},145:function(e,t,a){e.exports={mapWrapper:"Map_mapWrapper__3_bo1"}},148:function(e,t,a){e.exports={inputSearch:"PathsListWrapper_inputSearch__1dHfs"}},149:function(e,t,a){e.exports={main:"Main_main__vN_Z3"}},151:function(e,t,a){e.exports={app:"App_app__1oyYf"}},244:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(23),c=a.n(r),i=a(27),s=a(36),o=a(40),l=a(51),d=Object(s.b)({name:"paths",initialState:[{id:"dhfhdhj",title:"Test path",description:{short:"Some short text",full:"Some full text"},favorite:!1,selected:!1,distance:.534,directions:[{lat:function(){return 48.4499013737848},lng:function(){return 34.98049320537708}},{lat:function(){return 48.448591982505036},lng:function(){return 34.98019279796741}}]}],reducers:{add:function(e,t){return[].concat(Object(l.a)(e),[t.payload])},remove:function(e,t){return e.filter((function(e){return e.id!==t.payload}))},setFavorite:function(e,t){var a=e.find((function(e){return e.id===t.payload})),n=e.filter((function(e){return e.id!==t.payload}));return[a=Object(o.a)(Object(o.a)({},a),{},{favorite:!0})].concat(Object(l.a)(n))},removeFavorite:function(e,t){var a=e.find((function(e){return e.id===t.payload})),n=e.filter((function(e){return e.id!==t.payload}));return a=Object(o.a)(Object(o.a)({},a),{},{favorite:!1}),[].concat(Object(l.a)(n),[a])},select:function(e,t){e.forEach((function(e){e.id===t.payload?e.selected=!0:e.selected=!1}))}}}).reducer,u=Object(s.b)({name:"form",initialState:{isOpen:!1},reducers:{open:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isOpen:t.payload})},close:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{isOpen:t.payload})}}}).reducer,p=Object(s.b)({name:"currentPath",initialState:{},reducers:{set:function(e,t){return Object(o.a)({},t.payload)},remove:function(e,t){return t.payload}}}).reducer,j=Object(s.b)({name:"directions",initialState:{},reducers:{add:function(e,t){return Object(l.a)(t.payload)},clean:function(e,t){return t.payload}}}).reducer,m=Object(s.a)({reducer:{paths:d,form:u,currentPath:p,directions:j}}),h=(a(167),a(246)),f=a(250),b=a(252),O=a(122),x=a.n(O),_=a(7),y=function(){return Object(_.jsxs)("div",{children:[Object(_.jsx)(b.a,{twoToneColor:"#9aed00",className:x.a.icon}),Object(_.jsx)(f.a.Text,{className:x.a.text,strong:!0,children:"Saunter"})]})},v=a(78),g=a(143),T=a.n(g),k=function(e){var t=e.text,a=void 0===t?"":t,n=e.size,r=void 0===n?"middle":n,c=e.shape,i=void 0===c?"round":c,s=e.icon,o=e.htmlType,l=void 0===o?"button":o,d=e.handleFunc,u=void 0===d?function(){}:d;return Object(_.jsx)(v.a,{onClick:u,className:T.a.customBtn,size:r,type:"ghost",shape:i,icon:s,htmlType:l,children:a})},w=a(144),N=a.n(w),F=function(){var e=Object(i.b)();return Object(_.jsx)(h.a,{className:N.a.header,title:Object(_.jsx)(y,{}),extra:[Object(_.jsx)(k,{size:"large",text:"Add path",htmlType:"button",handleFunc:function(){return e({type:"form/open",payload:!0})}},"1")]})},P=a(79),S=a(52),M=a(42),I=a(248),L=a(154),B=a(145),E=a.n(B),W=function(e){var t=e.id,a=e.isEdit,r=e.isSetMarkers,c=Object(i.c)((function(e){return e.currentPath})),s=Object(i.b)();return Object(n.useEffect)((function(){var e,n;new L.a({apiKey:"".concat("AIzaSyD8I-uKxKmpAQxyhogTqJvJrl6cDtyYmoI"),version:"weekly"}).load().then((function(){var r=document.getElementById(t);r&&(e=new google.maps.Map(r,{center:{lat:48.450001,lng:34.983334},zoom:15}),(n=new google.maps.Polyline({strokeColor:"#9aed00",strokeOpacity:1,strokeWeight:3})).setMap(e),a&&e.addListener("click",(function(t){var a=n.getPath();a.push(t.latLng);var r=n.getPath().Be||[];r&&s({type:"directions/add",payload:Object(l.a)(r)}),new google.maps.Marker({position:t.latLng,title:"#"+a.getLength(),map:e})})),!a&&(null===c||void 0===c?void 0:c.directions)&&(n=new google.maps.Polyline({path:Object(l.a)(null===c||void 0===c?void 0:c.directions.map((function(e){return{lat:e.lat(),lng:e.lng()}}))),strokeColor:"#9aed00",strokeOpacity:1,strokeWeight:3})),n.setMap(e),!a&&(null===c||void 0===c?void 0:c.directions)&&c.directions.forEach((function(t){new google.maps.Marker({position:{lat:t.lat(),lng:t.lng()},map:e})})))}))}),[a,r,c,t]),Object(_.jsx)("div",{id:t,className:E.a.mapWrapper})},A=a(68),C=a.n(A),z=function(){var e,t=Object(n.useState)(null),a=Object(S.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(S.a)(s,2),l=o[0],d=o[1],u=Object(i.c)((function(e){return e.currentPath})),p=Object(i.b)();Object(n.useEffect)((function(){c(u)}),[r,u,l]);return Object(_.jsx)(M.a,{span:11,offset:1,className:C.a.pathView,children:r&&Object.keys(u).length?Object(_.jsxs)(I.a,{headStyle:{color:"#fff",fontSize:"24px"},className:C.a.card,title:r.title,extra:Object(_.jsxs)("h5",{className:C.a.distance,children:[r.distance," km"]}),style:{width:"100%"},children:[Object(_.jsx)("p",{className:C.a.fullDescription,children:null===(e=r.description)||void 0===e?void 0:e.full}),Object(_.jsx)(W,{id:"pathMap",isEdit:!1,isSetMarkers:!0}),Object(_.jsxs)("div",{className:C.a.wrapperBtn,children:[r.favorite||l?Object(_.jsx)(v.a,{"data-id":r.id,block:!0,type:"link",onClick:function(e){var t=e.currentTarget;d((function(e){return!e})),p({type:"paths/removeFavorite",payload:t.dataset.id})},children:"Remove from favorite"}):Object(_.jsx)(v.a,{"data-id":r.id,block:!0,type:"link",onClick:function(e){var t=e.currentTarget;d((function(e){return!e})),p({type:"paths/setFavorite",payload:t.dataset.id})},children:"Add to favorite"}),Object(_.jsx)(v.a,{"data-id":r.id,block:!0,type:"link",danger:!0,onClick:function(e){var t=e.currentTarget;c(null),p({type:"paths/remove",payload:t.dataset.id}),p({type:"currentPath/remove",payload:null})},children:"Remove"})]})]}):Object(_.jsx)(f.a.Text,{className:C.a.defaultText,children:"Select any path"})})},V=a(251),D=a(247),q=a(253),K=a(254),R=a(255),J=a(63),X=a(54),Y=a.n(X),G=function(e){var t=e.paths,a=e.isFiltered,n=Object(i.c)((function(e){return e.paths})),r=Object(i.b)(),c=function(e){var t=e.currentTarget,a=n.find((function(e){return e.id===t.id}));r({type:"paths/select",payload:t.id}),r({type:"currentPath/set",payload:a})};return Object(_.jsx)(D.b,{className:Y.a.list,dataSource:a?t:n,bordered:!0,locale:{emptyText:Object(_.jsx)(f.a.Text,{className:Y.a.emptyText,children:"No more paths"})},renderItem:function(e){return Object(_.jsxs)(D.b.Item,{className:Y.a.listItem,id:e.id,onClick:c,children:[Object(_.jsx)(D.b.Item.Meta,{className:Y.a.meta,avatar:Object(_.jsx)(q.a,{className:Y.a.itemMarker,twoToneColor:"true"}),title:Object(_.jsxs)(_.Fragment,{children:[e.favorite?Object(_.jsx)(K.a,{style:{color:"yellow"}}):Object(_.jsx)(R.a,{style:{color:"yellow"}}),e.title]}),description:Object(_.jsx)(f.a.Paragraph,{className:Y.a.description,children:e.description.short})}),Object(_.jsx)(f.a.Text,{className:Y.a.distance,children:"".concat(e.distance," km")}),Object(_.jsx)(J.a,{className:Y.a.leftArrow})]},e.id)}})},H=a(148),Z=a.n(H),Q=function(){var e=Object(i.c)((function(e){return e.paths})),t=Object(n.useState)(e),a=Object(S.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(S.a)(s,2),l=o[0],d=o[1];return Object(_.jsxs)(M.a,{span:12,children:[Object(_.jsxs)(P.a,{children:[Object(_.jsx)(M.a,{span:17,children:Object(_.jsx)(V.a.Search,{className:Z.a.inputSearch,placeholder:"Input search text",onSearch:function(t){var a=e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));c(a),d(!0)},enterButton:!0})}),Object(_.jsx)(M.a,{span:5,offset:2,children:Object(_.jsx)(k,{text:"All paths",size:"middle",shape:"round",handleFunc:function(){c(e),d(!1)}})})]}),Object(_.jsx)(G,{paths:r,isFiltered:l})]})},U=a(149),$=a.n(U),ee=function(){return Object(_.jsx)("main",{className:$.a.main,children:Object(_.jsxs)(P.a,{justify:"space-around",children:[Object(_.jsx)(Q,{}),Object(_.jsx)(z,{})]})})},te=a(124),ae=a.n(te),ne=a(150),re=a(75),ce=a(249),ie=a(43),se=a.n(ie),oe=document.getElementById("root-form"),le=function(){var e=Object(n.useState)(0),t=Object(S.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),l=Object(S.a)(o,2),d=l[0],u=l[1],p=Object(i.c)((function(e){return e.form.isOpen})),j=Object(i.c)((function(e){return e.directions})),m=Object(i.b)(),b=function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new google.maps.DistanceMatrixService).getDistanceMatrix({origins:[{lat:a.lat(),lng:a.lng()},"Start"],destinations:["End",{lat:t.lat(),lng:t.lng()}],travelMode:google.maps.TravelMode.DRIVING},(function(e,t){"OK"===t&&r((function(t){try{return t+=e.rows[0].elements[1].distance.value/1e3,Number(t.toFixed(3))}catch(a){return console.log("Failed to build routes"),u(!d),m({type:"directions/clean",payload:[]}),0}}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){if(j.length>1){var e=j[j.length-1],t=j[j.length-2];b(e,t)}}),[j]);return p?c.a.createPortal(Object(_.jsx)(P.a,{className:se.a.modalWrapper,children:Object(_.jsxs)(M.a,{span:16,offset:4,children:[Object(_.jsx)(h.a,{className:se.a.modalTitle,title:"Add new path",extra:[Object(_.jsx)(k,{handleFunc:function(){r(0),m({type:"form/close",payload:!1}),m({type:"directions/clean",payload:[]})},shape:"circle",icon:Object(_.jsx)(re.a,{}),size:"middle",text:""},"2")]}),Object(_.jsxs)(P.a,{className:se.a.modal,children:[Object(_.jsx)(M.a,{span:11,children:Object(_.jsxs)(ce.a,{className:se.a.form,layout:"vertical",name:"new-path",onFinish:function(e){if(0!==a){var t={id:Object(s.c)(),title:e.title,description:{short:e.shortText,full:e.fullText},selected:!1,distance:a,favorite:!1,directions:j};r(0),m({type:"paths/add",payload:t}),m({type:"form/close",payload:!1}),m({type:"directions/clean",payload:[]})}},children:[Object(_.jsx)(ce.a.Item,{className:se.a.formField,name:"title",label:"Title",rules:[{required:!0,message:"Please, input title path"}],children:Object(_.jsx)(V.a,{})}),Object(_.jsx)(ce.a.Item,{className:se.a.formField,rules:[{required:!0,message:"Please, input short description path"}],name:"shortText",label:"Short description",children:Object(_.jsx)(V.a.TextArea,{})}),Object(_.jsx)(ce.a.Item,{className:se.a.formField,name:"fullText",label:"Full description",rules:[{required:!0,message:"Please, input full description path"}],children:Object(_.jsx)(V.a.TextArea,{})}),Object(_.jsx)(ce.a.Item,{children:Object(_.jsx)(f.a.Text,{className:se.a.distance,children:"Length: ".concat(a," km")})}),Object(_.jsx)(ce.a.Item,{children:Object(_.jsx)(k,{handleFunc:function(){},text:"Add path",size:"large",htmlType:"submit"})})]})}),Object(_.jsxs)(M.a,{span:11,offset:2,className:se.a.mapWrapper,children:[Object(_.jsx)(W,{id:"mapForm",isEdit:!0,isSetMarkers:d}),Object(_.jsx)("div",{className:se.a.removeBtn,children:Object(_.jsx)(k,{text:"Remove markers",size:"middle",shape:"round",handleFunc:function(){r(0),u(!d),m({type:"directions/clean",payload:[]})}})})]})]})]})}),oe):c.a.createPortal("",oe)},de=a(151),ue=a.n(de),pe=function(){return Object(_.jsxs)("div",{className:ue.a.app,children:[Object(_.jsx)(F,{}),Object(_.jsx)(ee,{}),Object(_.jsx)(le,{})]})};c.a.render(Object(_.jsx)(i.a,{store:m,children:Object(_.jsx)(pe,{})}),document.getElementById("root"))},43:function(e,t,a){e.exports={modalWrapper:"FormModal_modalWrapper__2xo5J",modal:"FormModal_modal__La-XF",modalTitle:"FormModal_modalTitle__1hpE_",form:"FormModal_form__6G8k6",formField:"FormModal_formField__1ikdT",mapWrapper:"FormModal_mapWrapper__3pgTh",distance:"FormModal_distance__16jLa",removeBtn:"FormModal_removeBtn__17BLN"}},54:function(e,t,a){e.exports={list:"ListPaths_list__Wqp1r",listItem:"ListPaths_listItem__2Od9X",emptyText:"ListPaths_emptyText__389iI",leftArrow:"ListPaths_leftArrow__9TKrB",meta:"ListPaths_meta__25mV8",title:"ListPaths_title__1_0sF",description:"ListPaths_description__1WaKo",distance:"ListPaths_distance__3cCWX",itemMarker:"ListPaths_itemMarker__37IzZ"}},68:function(e,t,a){e.exports={pathView:"PathView_pathView__3htwf",card:"PathView_card__1-EhE",distance:"PathView_distance__eY3PK",wrapperBtn:"PathView_wrapperBtn__vT0R6",defaultText:"PathView_defaultText__321ak",fullDescription:"PathView_fullDescription__37s4D"}}},[[244,1,2]]]);
//# sourceMappingURL=main.841f48ff.chunk.js.map